<!DOCTYPE html>
<html>
<head>
    <title>Triangulação de polígonos</title>
    <style>
        /* CSS styles for the SVG container */
        #svgelem {
            border: 1px solid #ccc;
        }

        /* Additional CSS styles */
        .polygon {
            fill: #ada6db; /* Fill color */
            stroke: #2a2a2a; /* Stroke color */
            stroke-width: 2; /* Stroke width */
            stroke-opacity: 1; /* Stroke opacity */
            fill-opacity: 1; /* Fill opacity */
            stroke-linecap: round; /* Stroke linecap */
            stroke-linejoin: round; /* Stroke linejoin */
        }

        .permanent{ 
            fill: rgb(178, 178, 198); /* Fill color */
            stroke: #908f8f; /* Stroke color */
            stroke-width: 2; /* Stroke width */
            stroke-opacity: 0.7; /* Stroke opacity */
            fill-opacity: 0.4; /* Fill opacity */
            stroke-linecap: round; /* Stroke linecap */
            stroke-linejoin: round; /* Stroke linejoin */
        }


        .point {
            fill: #2a2a2a; /* Point color */
            stroke: none; /* No border */
        }

        .pointer {
            fill: #727374; /* Point color */
            stroke: none; /* No border */
        }


    </style>
    <script>
        // Predefined polygons (array of arrays of points)
        var polygons = [
            [ { x: 50, y: 50 }, { x: 150, y: 50 }, { x: 150, y: 150 }, { x: 50, y: 150 } ], // Polygon 1
            [ { x: 100, y: 100 }, { x: 200, y: 100 }, { x: 200, y: 200 }, { x: 100, y: 200 } ], // Polygon 2
            [ { x: 50, y: 100 }, { x: 100, y: 50 }, { x: 150, y: 100 }, { x: 100, y: 150 } ], // Polygon 3
            [ { x : 200, y :100 }, { x:  200,y: 50},  {x:250,y:150},  {x:200,y:200},  {x:100,y:200}, {x:50,y:150 }]
            // Add more polygons as needed
        ];

        var currentIndex = 0; // Index to track current polygon

    function displayPolygon() {
        // Get the SVG element by its ID
        var svg = document.getElementById("svgelem");
        svg.innerHTML = ""; // Clear previous content
        
        // Create a permanent polygon element
        var permanent = createPolygon(polygons[0], "permanent");
        svg.appendChild(permanent);
        permanent.setAttribute("class", "permanent");
        
        polygons[0].forEach(point => {
            var circle = createCircle(point.x, point.y);
            circle.setAttribute("class", "pointer");
            svg.appendChild(circle, "pointer");
        });


        // Create the current polygon element
        var current = createPolygon(polygons[currentIndex], "polygon");
        svg.appendChild(current);
        current.setAttribute("class", "polygon");

               // Add points as circle elements for the current polygon
               polygons[currentIndex].forEach(point => {
            var circle = createCircle(point.x, point.y);
            circle.setAttribute("class", "point");
            svg.appendChild(circle, "point");
        });


            // Update current polygon index display
            document.getElementById("currentPolygon").textContent = currentIndex + 1;
    }

        // Function to create a polygon element
    function createPolygon(points) {
        var polygon = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
        var pointsString = points.map(point => `${point.x},${point.y}`).join(" ");
        polygon.setAttribute("points", pointsString);
        return polygon;
    }

    // Function to create a circle element for points
    function createCircle(cx, cy) {
        var circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
        circle.setAttribute("cx", cx);
        circle.setAttribute("cy", cy);
        circle.setAttribute("r", 5); // Radius of the point
        return circle;
    }

    function nextPolygon() {
        currentIndex = (currentIndex + 1) % polygons.length; // Move to the next polygon circularly
        displayPolygon(); // Display the new polygon
    }

        function previousPolygon() {
            currentIndex = (currentIndex - 1 + polygons.length) % polygons.length; // Move to the previous polygon circularly
            displayPolygon(); // Display the new polygon
        }

    </script>
</head>
<body>
    <h2>Triangulação de polígonos</h2>
    <svg id="svgelem" width="300" height="300" xmlns="http://www.w3.org/2000/svg">
        <!-- SVG content will be dynamically added here -->
    </svg>
    <br>
    <button onclick="previousPolygon()">Previous Polygon</button>
    <button onclick="nextPolygon()">Next Polygon</button>
    <br>
    <p>Current Polygon: <span id="currentPolygon"></span></p>

    <script>
        // Initial display of the first polygon
        displayPolygon();
    </script>
</body>
</html>